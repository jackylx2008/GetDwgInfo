# GetDwgInfo 配置文件

# 日志配置
log_level: INFO  # 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
log_file: ./logs/app.log  # 日志文件路径

# DWG 解析配置
dwg:
  extract_text: true  # 是否提取文本元素
  extract_lines: true  # 是否提取线条元素
  extract_rects: true  # 是否提取矩形元素
  extract_circles: true  # 是否提取圆形元素

# 数据分析配置
analysis:
  max_distance: 100.0  # 空间关系最大距离阈值（单位）
  alignment_tolerance: 5.0  # 对齐容差（单位）

# 输入/输出配置
paths:
  input_dir: ./input  # 输入文件目录
  output_dir: ./output  # 输出文件目录
  default_elements_file: elements.csv  # 默认元素数据文件名
  default_relationships_file: relationships.csv  # 默认关系数据文件名

# 轴网提取脚本配置
process_grid:
  input_file: null  # 请在 private.yaml 中配置实际 DXF 路径
  axis_layer_keywords: []  # 为空则分析所有线条
  tolerance: 100.0  # 线段聚类容差
  min_axis_length: 2000.0  # 轴线最小长度阈值
  search_radius: 5000.0  # 轴号搜索半径
  json_output: ./output/grid_axes.json  # 轴网数据输出路径
  log:
    level: INFO  # 该脚本日志级别
    file: ./logs/process_grid.log  # 单独日志文件
    filemode: w  # 写入模式（w/append）

# 文字定位脚本配置
grid_locator:
  dxf_file: null  # 请在 private.yaml 中配置实际 DXF 路径
  grid_json: ./output/grid_axes.json
  output_csv: ./output/text_positions.csv
  log:
    level: INFO
    file: ./logs/grid_locator.log
    filemode: w
  search:
    max_axis_gap: 999999.0  # 可选：最大轴距容忍，用于判断是否超出轴网
  space_detection:
    enabled: true
    min_lines: 4
    tolerance: 0.001

# CSV 统计脚本配置
csv_counter:
  folder: ./output    # 要扫描的 CSV 目录
  delimiter: ","     # CSV 分隔符
  encoding: utf-8     # 文件编码
  recursive: false    # 是否递归扫描子目录
  log:
    level: INFO
    file: ./logs/csv_counter.log
    filemode: w
